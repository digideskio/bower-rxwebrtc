"use strict";angular.module("webrtc",[]),angular.module("webrtc").factory("webrtc",["$rootScope",function(r){var e={call:function(t){var c=rxwebrtc.call(t);return c.subscriptions.push(c.localStream.subscribe(function(t){e.localStream=t,r.$broadcast("webrtcLocalStream",t)})),c},answer:function(r){var e=rxwebrtc.answer(r);return e}};return e}]),angular.module("webrtc").directive("webrtcPreview",["webrtc",function(r){return function(e,t,c){var a=t[0];if("VIDEO"!==a.tagName)throw new Error("The webrtc-preview directive must be placed on a VideoElement");a.muted=!0,a.autoplay=!0,r.localStream&&(console.dir(a),a.src=URL.createObjectURL(r.localStream)),e.$on("webrtcLocalStream",function(e,t){a.src&&URL.revokeObjectURL(a.src),a.src=URL.createObjectURL(r.localStream)}),e.$on("$destroy",function(){a.src&&URL.revokeObjectURL(a.src)})}}]);
//# sourceMappingURL=angular-webrtc.min.js.map