"use strict";angular.module("webrtc",[]),angular.module("webrtc").factory("webrtc",["$rootScope",function(e){var r={call:function(e){return this.angularify(rxwebrtc.call(e))},answer:function(e){return this.angularify(rxwebrtc.answer(e))},angularify:function(t){return t.subscriptions.push(t.localStream.subscribe(function(t){r.localStream=t,e.$broadcast("webrtcLocalStream",t)})),t.subscriptions.push(t.remoteStream.subscribe(function(t){r.remoteStream=t,e.$broadcast("webrtcRemoteStream",t)})),t}};return r}]),angular.module("webrtc").directive("webrtcLocalStream",["webrtc",function(e){return function(r,t,c){var a=t[0];if("VIDEO"!==a.tagName)throw new Error("The webrtc-local-stream directive must be placed on a VideoElement");a.muted=!0,a.autoplay=!0,e.localStream&&(a.src=URL.createObjectURL(e.localStream)),r.$on("webrtcLocalStream",function(r,t){a.src&&URL.revokeObjectURL(a.src),a.src=URL.createObjectURL(e.localStream)}),r.$on("$destroy",function(){a.src&&URL.revokeObjectURL(a.src)})}}]),angular.module("webrtc").directive("webrtcRemoteStream",["webrtc",function(e){return function(r,t,c){var a=t[0];if("VIDEO"!==a.tagName)throw new Error("The webrtc-remote-stream directive must be placed on a VideoElement");a.autoplay=!0,e.remoteStream&&(a.src=URL.createObjectURL(e.remoteStream)),r.$on("webrtcRemoteStream",function(r,t){a.src&&URL.revokeObjectURL(a.src),a.src=URL.createObjectURL(e.remoteStream)}),r.$on("$destroy",function(){a.src&&URL.revokeObjectURL(a.src)})}}]);
//# sourceMappingURL=angular-webrtc.min.js.map