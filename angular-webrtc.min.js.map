{"version":3,"sources":["module.js","webrtc.js","webrtcLocalStream.js","webrtcRemoteStream.js"],"names":["angular","module","factory","$rootScope","webrtc","call","options","this","angularify","rxwebrtc","answer","session","subscriptions","push","localStream","subscribe","stream","$broadcast","remoteStream","directive","$scope","$element","attrs","video","tagName","Error","muted","autoplay","src","URL","createObjectURL","$on","e","revokeObjectURL"],"mappings":"AAAA,YAAAA,SAAAC,OAAA,aCAAD,QAAAC,OAAA,UAAAC,QAAA,UAAA,aAAA,SAAAC,GACA,GAAAC,IACAC,KAAA,SAAAC,GACA,MAAAC,MAAAC,WAAAC,SAAAJ,KAAAC,KAEAI,OAAA,SAAAJ,GACA,MAAAC,MAAAC,WAAAC,SAAAC,OAAAJ,KAEAE,WAAA,SAAAG,GAUA,MARAA,GAAAC,cAAAC,KAAAF,EAAAG,YAAAC,UAAA,SAAAC,GACAZ,EAAAU,YAAAE,EACAb,EAAAc,WAAA,oBAAAD,MAEAL,EAAAC,cAAAC,KAAAF,EAAAO,aAAAH,UAAA,SAAAC,GACAZ,EAAAc,aAAAF,EACAb,EAAAc,WAAA,qBAAAD,MAEAL,GAIA,OAAAP,MCtBAJ,QAAAC,OAAA,UAAAkB,UAAA,qBAAA,SAAA,SAAAf,GACA,MAAA,UAAAgB,EAAAC,EAAAC,GACA,GAAAC,GAAAF,EAAA,EACA,IAAA,UAAAE,EAAAC,QACA,KAAA,IAAAC,OAAA,qEAEAF,GAAAG,OAAA,EACAH,EAAAI,UAAA,EACAvB,EAAAU,cACAS,EAAAK,IAAAC,IAAAC,gBAAA1B,EAAAU,cAEAM,EAAAW,IAAA,oBAAA,SAAAC,EAAAhB,GACAO,EAAAK,KACAC,IAAAI,gBAAAV,EAAAK,KAEAL,EAAAK,IAAAC,IAAAC,gBAAA1B,EAAAU,eAEAM,EAAAW,IAAA,WAAA,WACAR,EAAAK,KACAC,IAAAI,gBAAAV,EAAAK,WCnBA5B,QAAAC,OAAA,UAAAkB,UAAA,sBAAA,SAAA,SAAAf,GACA,MAAA,UAAAgB,EAAAC,EAAAC,GACA,GAAAC,GAAAF,EAAA,EACA,IAAA,UAAAE,EAAAC,QACA,KAAA,IAAAC,OAAA,sEAEAF,GAAAI,UAAA,EACAvB,EAAAc,eACAK,EAAAK,IAAAC,IAAAC,gBAAA1B,EAAAc,eAEAE,EAAAW,IAAA,qBAAA,SAAAC,EAAAhB,GACAO,EAAAK,KACAC,IAAAI,gBAAAV,EAAAK,KAEAL,EAAAK,IAAAC,IAAAC,gBAAA1B,EAAAc,gBAEAE,EAAAW,IAAA,WAAA,WACAR,EAAAK,KACAC,IAAAI,gBAAAV,EAAAK","file":"angular-webrtc.min.js","sourcesContent":["angular.module('webrtc', []);","angular.module('webrtc').factory('webrtc', function ($rootScope) {\n\tvar webrtc = {\n\t\tcall: function (options) {\n\t\t\treturn this.angularify(rxwebrtc.call(options));\n\t\t},\n\t\tanswer: function (options) {\n\t\t\treturn this.angularify(rxwebrtc.answer(options));\n\t\t},\n\t\tangularify: function (session) {\n\t\t\t// Connect the getUserMedia steam with the <webrtc-preview> directive.\n\t\t\tsession.subscriptions.push(session.localStream.subscribe(function (stream) {\n\t\t\t\twebrtc.localStream = stream; \n\t\t\t\t$rootScope.$broadcast('webrtcLocalStream', stream);\n\t\t\t}));\n\t\t\tsession.subscriptions.push(session.remoteStream.subscribe(function (stream) {\n\t\t\t\twebrtc.remoteStream = stream; \n\t\t\t\t$rootScope.$broadcast('webrtcRemoteStream', stream);\n\t\t\t}));\n\t\t\treturn session;\n\t\t}\n\t\t\n\t};\n\treturn webrtc;\n});","angular.module('webrtc').directive('webrtcLocalStream', function (webrtc) {\n\treturn function link($scope, $element, attrs) {\n\t\tvar video = $element[0];\n\t\tif (video.tagName !== 'VIDEO') {\n\t\t\tthrow new Error('The webrtc-local-stream directive must be placed on a VideoElement');\n\t\t}\n\t\tvideo.muted = true;\n\t\tvideo.autoplay = true;\n\t\tif (webrtc.localStream) {\n\t\t\tvideo.src = URL.createObjectURL(webrtc.localStream);\n\t\t}\n\t\t$scope.$on('webrtcLocalStream', function (e, stream) {\n\t\t\tif (video.src) {\n\t\t\t\tURL.revokeObjectURL(video.src);\n\t\t\t}\n\t\t\tvideo.src = URL.createObjectURL(webrtc.localStream);\n\t\t});\n\t\t$scope.$on('$destroy', function () {\n\t\t\tif (video.src) {\n\t\t\t\tURL.revokeObjectURL(video.src);\n\t\t\t}\n\t\t})\n\t};\n});","angular.module('webrtc').directive('webrtcRemoteStream', function (webrtc) {\n\treturn function link($scope, $element, attrs) {\n\t\tvar video = $element[0];\n\t\tif (video.tagName !== 'VIDEO') {\n\t\t\tthrow new Error('The webrtc-remote-stream directive must be placed on a VideoElement');\n\t\t}\n\t\tvideo.autoplay = true;\n\t\tif (webrtc.remoteStream) {\n\t\t\tvideo.src = URL.createObjectURL(webrtc.remoteStream);\n\t\t}\n\t\t$scope.$on('webrtcRemoteStream', function (e, stream) {\n\t\t\tif (video.src) {\n\t\t\t\tURL.revokeObjectURL(video.src);\n\t\t\t}\n\t\t\tvideo.src = URL.createObjectURL(webrtc.remoteStream);\n\t\t});\n\t\t$scope.$on('$destroy', function () {\n\t\t\tif (video.src) {\n\t\t\t\tURL.revokeObjectURL(video.src);\n\t\t\t}\n\t\t})\n\t};\n});"],"sourceRoot":"/source/"}