{"version":3,"sources":["webpack:///webpack/bootstrap 173165e6e59b3b584edd","webpack:///./src/rxwebrtc.js","webpack:///external \"Rx\"","webpack:///./src/getUserMedia.js","webpack:///./src/Session.js"],"names":[],"mappings":"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","file":"rxwebrtc.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 173165e6e59b3b584edd\n **/","\nvar Rx = require('rx');\nvar getUserMedia = require('./getUserMedia');\nvar Session = require('./Session');;\n\nvar rxwebrtc = {\n\t\n\tdefaults: {\n\t\tpeerConnection: {\n\t\t\ticeServers:  [ \n\t\t\t\t{ urls: ['stun:stun.l.google.com:19302'] }\n\t\t\t]\n\t\t},\n\t\tuserMedia: { \n\t\t\tvideo: true, \n\t\t\taudio: true\n\t\t}\n\t},\n\t/**\n\t * Send message from sigaling server to this Rx.Subject \n\t */\n\tinput: new Rx.Subject(),\n\n\t/**\n\t * Emit messages from this Rx.Subject to the sigaling server\n\t */\n\toutput: new Rx.Subject(),\n\t\n\t/**\n\t * @return Session\n\t */\n\tcall: function (options) {\n\t\toptions = options || {};\n\t\toptions.userMedia || rxwebrtc.defaults.userMedia\n\t\toptions.peerConnection = options.peerConnection ||  rxwebrtc.defaults.peerConnection;\n\t\tvar session = new Session(options);\n\t\tsession.gatherIce = session.iceCandidates.replay();\n\t\tconsole.log(session.gatherIce);\n\t\t\n\t\tsession.subscriptions.push(session.gatherIce);\n\t\tsession.status.onNext('USER_MEDIA');\n\t\tvar call = rxwebrtc.getUserMedia(options.userMedia).flatMap(function (stream) {\n\t\t\tsession.peerConnection.addStream(stream);\n\t\t\tsession.localStream.onNext(stream);\n\t\t\tsession.status.onNext('LOCAL_STREAM');\n\t\t\tsession.status.onNext('RSVP');\n\t\t\trxwebrtc.output.onNext({\n\t\t\t\ttype: 'rsvp', \n\t\t\t\tsender: session.sender,\n\t\t\t\trecipient: session.recipient,\n\t\t\t\tsession: session.id,\n\t\t\t});\n\t\t\t\n\t\t\treturn session.messages.filter(function (message) {\n\t\t\t\treturn message.type === 'offer'\n\t\t\t}).first();\n\t\t}).flatMap(function (message) {\n\t\t\tsession.status.onNext('OFFER_RECEIVED');\n\t\t\tif (message.sender) {\n\t\t\t\trxwebrtc.merge(session.recipient, message.sender); \n\t\t\t}\n\t\t\tif (message.recipient) {\n\t\t\t\trxwebrtc.merge(session.sender, message.recipient); \n\t\t\t}\n\t\t\tsession.status.onNext('SET_REMOTE');\n\t\t\tsession.iceCandidates.replay()\n\t\t\treturn rxwebrtc.setRemoteDescription(session.peerConnection, message.offer);\n\t\t}).flatMap(function (result) {\n\t\t\tsession.status.onNext('SET_ICE');\n\t\t\tsession.gatherIce.subscribe( candidate => {\n\t\t\t\trxwebrtc.addIceCandidate(session.peerConnection, candidate).catch(function (error) {\n\t\t\t\t\tconsole.warn(error)\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn rxwebrtc.createAnswer(session.peerConnection);\n\t\t}).flatMap(function (answer) {\n\t\t\tsession.status.onNext('SET_LOCAL');\n\t\t\tsession.peerConnection.setLocalDescription(answer); // Triggers ICE gathering\n\t\t\tsession.status.onNext('SEND_ANSWER');\n\t\t\trxwebrtc.output.onNext({\n\t\t\t\ttype: 'answer',\n\t\t\t\tsender: session.sender,\n\t\t\t\trecipient: session.recipient,\n\t\t\t\tsession: session.id,\n\t\t\t\tanswer: answer,\n\t\t\t});\n\t\t\tsession.status.onNext('WAITING_FOR_ICE');\n\t\t\treturn session.status.skipWhile(function (status) {\n\t\t\t\treturn status !== 'CONNECTED';\n\t\t\t}).timeout(40000, 'Unable to setup a connection in 40 seconds');\n\t\t}).subscribe(function (status) {\n\t\t}, function (error) {\n\t\t\tsession.status.onError(error);\n\t\t});\n\t\tsession.subscriptions.push(call);\n\t\treturn session;\n\t},\n\t\n\tanswer: function (options) {\n\t\toptions = options || {};\n\t\toptions.userMedia || rxwebrtc.defaults.userMedia;\n\t\toptions.peerConnection = options.peerConnection || rxwebrtc.defaults.peerConnection;\n\t\tvar session = new Session(options);\n\t\tsession.status.onNext('USER_MEDIA');\n\t\tvar gatherIce = session.iceCandidates.subscribe( candidate => {\n\t\t\trxwebrtc.addIceCandidate(session.peerConnection, candidate).catch(function (error) {\n\t\t\t\tconsole.warn(error)\n\t\t\t});\n\t\t});\n\t\tsession.subscriptions.push(gatherIce);\n\t\t\n\t\tvar answer = rxwebrtc.getUserMedia(options.userMedia).flatMap(function (stream) {\n\t\t\tsession.peerConnection.addStream(stream);\n\t\t\tsession.localStream.onNext(stream);\n\t\t\tsession.status.onNext('LOCAL_STREAM');\n\t\t\tsession.status.onNext('OFFER');\n\t\t\treturn rxwebrtc.createOffer(session.peerConnection)\n\t\t}).flatMap(function (offer) {\n\t\t\tsession.offer = offer;\n\t\t\tsession.status.onNext('SET_LOCAL');\n\t\t\tsession.peerConnection.setLocalDescription(offer); // Triggers ICE gathering\n\t\t\trxwebrtc.output.onNext({\n\t\t\t\ttype: 'offer', \n\t\t\t\tsender: session.sender,\n\t\t\t\trecipient: session.recipient,\n\t\t\t\tsession: session.id,\n\t\t\t\toffer: session.offer,\n\t\t\t});\n\t\t\tsession.status.onNext('CALLING');\n\t\t\treturn session.messages.filter(function (message) {\n\t\t\t\treturn message.type === 'answer'\n\t\t\t}).first();\n\t\t}).flatMap(function (message) {\n\t\t\tif (message.sender) {\n\t\t\t\trxwebrtc.merge(session.recipient, message.sender); \n\t\t\t}\n\t\t\tif (message.recipient) {\n\t\t\t\trxwebrtc.merge(session.sender, message.recipient); \n\t\t\t}\n\t\t\tsession.status.onNext('ANSWERED');\n\t\t\tsession.status.onNext('SET_REMOTE');\n\t\t\treturn rxwebrtc.setRemoteDescription(session.peerConnection, message.answer);\n\t\t}).flatMap(function () {\n\t\t\treturn session.remoteStream.first();\n\t\t}).flatMap(function (stream) {\n\t\t\tsession.status.onNext('CONNECTING');\n\t\t\treturn session.status.skipWhile(function (status) {\n\t\t\t\treturn status !== 'CONNECTED';\n\t\t\t}).timeout(30000, 'Unable to setup a connection in 30 seconds');\n\t\t}).subscribe(function (status) {\n\t\t}, function (error) {\n\t\t\tsession.status.onError(error);\n\t\t});\n\t\tsession.subscriptions.push(answer);\n\t\treturn session;\n\t},\n\tgatherIceCandidates: function (peerConnection) {\n\t\treturn Rx.Observable.fromEvent(peerConnection, 'icecandidate').takeWhile(function (e) {\n\t\t\treturn e.candidate;\n\t\t}).map(function (e) {\n\t\t\treturn e.candidate;\n\t\t}).toArray()\n\t},\n\tcreateOffer: function (peerConnection) {\n\t\treturn Rx.Observable.create(function (observer) {\n\t\t\tpeerConnection.createOffer(function (sessionDescription) {\n\t\t\t\tobserver.onNext(sessionDescription);\n\t\t\t\tobserver.onCompleted();\n\t\t\t}, function (err) {\n\t\t\t\tobserver.onError(err);\n\t\t\t});\n\t\t});\n\t},\n\tcreateAnswer: function (peerConnection) {\n\t\treturn Rx.Observable.create(function (observer) {\n\t\t\tpeerConnection.createAnswer(function (sessionDescription) {\n\t\t\t\tconsole.log(sessionDescription);\n\t\t\t\tobserver.onNext(sessionDescription);\n\t\t\t\tobserver.onCompleted();\n\t\t\t}, function (err) {\n\t\t\t\tobserver.onError(err);\n\t\t\t});\n\t\t});\n\t},\n\tsetRemoteDescription: function (peerConnection, sessionDescription) {\n\t\tvar RTCSessionDescription = window.RTCSessionDescription || cordova.plugins.iosrtc.RTCSessionDescription;\n\t\treturn Rx.Observable.create(function (observer) {\n\t\t\tpeerConnection.setRemoteDescription(new RTCSessionDescription(sessionDescription), function (result) {\n\t\t\t\tobserver.onNext(result);\n\t\t\t\tobserver.onCompleted();\n\t\t\t}, function (err) {\n\t\t\t\tobserver.onError(err);\n\t\t\t});\n\t\t});\n\t},\n\taddIceCandidate: function (peerConnection, iceCandidate) {\n\t\tvar RTCIceCandidate = window.RTCIceCandidate || cordova.plugins.iosrtc.RTCIceCandidate;\n\t\tconsole.log('addIceCandidate', peerConnection);\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tvar candidate = new RTCIceCandidate(iceCandidate);\n\t\t\tpeerConnection.addIceCandidate(candidate, resolve, reject);\t\n\t\t});\n\t},\n\tgetUserMedia: getUserMedia,\n\tmerge: function (target, source) {\n\t\tsource = source || {};\n\t\tfor (var key in source) {\n\t\t\tif (source.hasOwnProperty(key)) {\n\t\t\t\ttarget[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t}\n};\n\nwindow.rxwebrtc = rxwebrtc;\n\n\n/** WEBPACK FOOTER **\n ** ./src/rxwebrtc.js\n **/","module.exports = Rx;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Rx\"\n ** module id = 1\n ** module chunks = 0\n **/","var Rx = require('rx');\n/**\n * getUserMedia as an Observable\n *\n * @return Rx.Observable \n */\nfunction getUserMedia(options) {\n\tvar getUserMedia = navigator.webkitGetUserMedia ? navigator.webkitGetUserMedia.bind(navigator) : cordova.plugins.iosrtc.getUserMedia.bind(cordova.plugins.iosrtc);\n\treturn Rx.Observable.create(function (observer) {\n\t\tgetUserMedia(options, function (stream) {\n\t\t\tobserver.onNext(stream);\n\t\t\tobserver.onCompleted();\n\t\t}, function (err) {\n\t\t\tobserver.onError(err);\n\t\t});\n\t});\n}\n\t\t\nmodule.exports = getUserMedia;\n\n\n/** WEBPACK FOOTER **\n ** ./src/getUserMedia.js\n **/","var Rx = require('rx');\n/**\n * @implements Rx.Disposable\n */\nfunction Session (options) {\n\toptions = options || {};\n\tthis.sender = options.sender || {};\n\tthis.recipient = options.recipient || {};\n\tthis.isDisposed = false;\n\t\n\tif (options.id) {\n\t\tthis.id = options.id;\n\t} else {\n\t\tthis.id = Session.guid();\n\t}\n\tthis.status = new Rx.BehaviorSubject('NEW');\n\tvar RTCPeerConnection = window.webkitRTCPeerConnection || cordova.plugins.iosrtc.RTCPeerConnection;\n\tthis.peerConnection = new RTCPeerConnection(options.peerConnection);\n\tthis.remoteStream = Rx.Observable.fromEvent(this.peerConnection, 'addstream').pluck('stream');\n\tthis.localStream = new Rx.BehaviorSubject();\n\tthis.messages = rxwebrtc.input.filter(message => {\n\t\treturn message.session === this.id;\n\t});\n\twindow.peerConnection = this.peerConnection;\n\tvar trickleIce = Rx.Observable.fromEvent(this.peerConnection, 'icecandidate').filter(function (e) {\n\t\treturn e.candidate;\n\t}).subscribe( e => {\n\t\trxwebrtc.output.onNext({\n\t\t\ttype: 'ice',\n\t\t\tsession: this.id,\n\t\t\tcandidate: e.candidate,\n\t\t\tsender: this.sender,\n\t\t\trecipient: this.recipient\n\t\t});\n\t});\n\tthis.iceCandidates = this.messages.filter(function (message) {\n\t\treturn message.type === 'ice';\n\t}).pluck('candidate');\n\tRx.Observable.fromEvent(this.peerConnection, 'signalingstatechange').subscribe(e => { console.log('signalingstatechange', this.peerConnection.signalingState)})\n\tRx.Observable.fromEvent(this.peerConnection, 'addstream').subscribe(function (e) { console.log('onaddstream', e)})\n\tRx.Observable.fromEvent(this.peerConnection, 'iceconnectionstatechange').subscribe(e => { console.log('signalingstatechange', this.peerConnection.iceConnectionState)})\n\t\n\tvar connectionState = Rx.Observable.fromEvent(this.peerConnection, 'iceconnectionstatechange')\n\t\t.map(function (e) {\n\t\t\tconsole.log('iceconnectionstatechange', e)\n\t\t\tif (e.target) {\n\t\t\t\treturn e.target.iceConnectionState  \n\t\t\t}\n\t\t})\n\t\t.subscribe( connectionState => {\n\t\t\tif (connectionState === 'connected' || connectionState === 'completed') {\n\t\t\t\tif (this.status.value !== 'CONNECTED') {\n\t\t\t\t\tthis.status.onNext('CONNECTED');\n\t\t\t\t}\n\t\t\t} else if (connectionState === 'disconnected'){\n\t\t\t\tthis.status.onNext('DISCONNECTED');\n\t\t\t\tthis.status.onCompleted();\n\t\t\t}\n\t\t}); \n\tthis.subscriptions = [this.status, this.localStream, trickleIce, connectionState];\n};\n\nSession.prototype.dispose = function() {\n\tif (this.isDisposed) {\n\t\treturn;\n\t}\n\tthis.isDisposed = true;\n\tthis.peerConnection.close();\n\tvar mediaStream = this.localStream.value;\n\tif (mediaStream) {\n\t\tmediaStream.getTracks().map(function (track) {\n\t\t\ttrack.stop();\n\t\t});\n\t}\n\tthis.subscriptions.forEach(subscription => { subscription.dispose() });\n};\n\nSession.guid = function () {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tvar r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n\t\treturn v.toString(16);\n\t});\n};\n\nmodule.exports = Session;\n\n\n/** WEBPACK FOOTER **\n ** ./src/Session.js\n **/"],"sourceRoot":""}